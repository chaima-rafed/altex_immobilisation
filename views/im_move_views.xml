<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Asset Move Tree View -->
        <record id="asset_management_asset_move_tree" model="ir.ui.view">
            <field name="name">asset.move.tree</field>
            <field name="model">asset.move</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="asset_id"/>
                    <field name="code"/>
                    <field name="code_inv"/>
                    <field name="compte_g"/>
                    <field name="code_bare"/>
                    <field name="from_employee_id"/>
                    <field name="from_company"/>
                    <field name="from_departement_id"/>
                    <field name="from_desktop_id"/>
                    <field name="to_employee_id"/>
                    <field name="to_company_id"/>
                    <field name="to_departement_id"/>
                    <field name="to_desktop_id"/>
                    <field name="date_move"/>
                    <!--  <field name="asset_id" widget="many2one"
                             options="{'fields': ['code', 'code_site', 'code_bat', 'code_inv', 'code_buro', 'num_niv', 'compte_g', 'code_bare']}"/> -->
                </tree>
            </field>
        </record>

        <!-- Asset Move Search View -->
        <record id="asset_management_asset_move_search" model="ir.ui.view">
            <field name="name">asset.move.search</field>
            <field name="model">asset.move</field>
            <field name="arch" type="xml">
                <search string="Déplacement d'immobilisation">
                    <field name="name"/>
                    <field name="asset_id"/>
                    <field name="code"/>
                    <field name="code_inv"/>
                    <field name="compte_g"/>
                    <field name="code_bare"/>
                    <field name="from_employee_id"/>
                    <field name="from_company"/>
                    <field name="from_departement_id"/>
                    <field name="from_desktop_id"/>
                    <field name="to_employee_id"/>
                    <field name="to_company_id"/>
                    <field name="to_departement_id"/>
                    <field name="to_desktop_id"/>
                    <field name="date_move"/>
                </search>
            </field>
        </record>

        <!-- Asset Move Kanban View -->
        <record id="view_account_asset_asset_kanban" model="ir.ui.view">
            <field name="name">asset.move.kanban</field>
            <field name="model">asset.move</field>
            <field name="arch" type="xml">
                <kanban class="o_kanban_mobile">
                    <field name="name"/>
                    <field name="asset_id"/>
                    <field name="from_employee_id"/>
                    <field name="from_company"/>
                    <field name="from_departement_id"/>
                    <field name="from_desktop_id"/>
                    <field name="to_employee_id"/>
                    <field name="to_company_id"/>
                    <field name="to_departement_id"/>
                    <field name="to_desktop_id"/>
                    <field name="date_move"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_global_click">
                                <div class="row mb4">
                                    <div class="col-4">
                                        <strong>
                                            <span>
                                                <t t-esc="record.name.value"/>
                                            </span>
                                        </strong>
                                    </div>
                                    <div class="col-4 text-right">
                                        <strong>
                                            Asset :
                                            <t t-esc="record.asset_id.value"/>
                                        </strong>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 text-right">
                                        <span>
                                            From Employee :
                                            <t t-esc="record.from_employee_id.value"/>
                                        </span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-4 text-muted">
                                        <span>
                                            From Agence Location :
                                            <t t-esc="record.from_company.value"/>
                                        </span>
                                    </div>
                                    <div class="col-4 text-muted">
                                        <span>
                                            From Departement Location :
                                            <t t-esc="record.from_departement_id.value"/>
                                        </span>
                                    </div>
                                    <div class="col-4 text-muted">
                                        <span>
                                            From Desktop Location :
                                            <t t-esc="record.from_desktop_id.value"/>
                                        </span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 text-muted">
                                        <span>
                                            To Employee :
                                            <t t-esc="record.to_employee_id.value"/>
                                        </span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-4 text-muted">
                                        <span class="float-right text-right">
                                            To Agence Location :
                                            <t t-esc="record.to_company_id.value"/>
                                        </span>
                                    </div>
                                    <div class="col-4 text-muted">
                                        <span class="float-right text-right">
                                            To Departement Location :
                                            <t t-esc="record.to_departement_id.value"/>
                                        </span>
                                    </div>
                                    <div class="col-4 text-muted">
                                        <span class="float-right text-right">
                                            To Desktop Location :
                                            <t t-esc="record.to_desktop_id.value"/>
                                        </span>
                                    </div>
                                </div>
                                <div class="row m4">
                                    <div class="col-12 text-muted">
                                        <span class="float-right text-right">
                                            Date moved :
                                            <t t-esc="record.date_move.value"/>
                                        </span>
                                    </div>
                                </div>

                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <!-- Asset Move Form View -->
        <record id="asset_management_asset_move_form" model="ir.ui.view">
            <field name="name">asset.move.form</field>
            <field name="model">asset.move</field>
            <field name="arch" type="xml">

                <form>
                    <group>
                        <!-- <button string="Edit" class="oe_edit_only" edit="false"/>  -->
                    </group>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="name" readonly="1"/>
                            </h1>
                        </div>
                        <group>
                            <field name="asset_id"/>
                            <field name="code"/>
                            <field name="code_inv"/>
                            <field name="compte_g"/>
                            <field name="code_bare"/>
                            <field name="from_employee_id"/>
                            <field name="to_employee_id"/>
                            <field name="date_move"/>
                        </group>
                    </sheet>

                    <sheet>
                        <div class="oe_title">
                            <h1>
                                Du Lieu
                            </h1>
                        </div>
                        <group>
                            <field name="from_company"/>
                            <field name="from_departement_id"/>
                            <field name="from_desktop_id"/>
                        </group>
                    </sheet>

                    <sheet>
                        <div class="oe_title">
                            <h1>
                                Au Lieu
                            </h1>
                        </div>
                        <group>
                            <field name="to_company_id"/>
                            <field name="to_departement_id"/>
                            <field name="to_desktop_id"/>
                        </group>
                    </sheet>
                </form>
                <!--  <script type="text/javascript" src="/om_account_asset/static/src/js/asset_move_form.js"/>  -->
            </field>
        </record>

        <!-- Asset Move Action -->
        <record id="action_asset_move" model="ir.actions.act_window">
            <field name="name">Déplacement d'immobilisation</field>
            <field name="res_model">asset.move</field>
            <field name="view_mode">tree,kanban,form</field>
        </record>

        <!-- TITLE ASSET MOVE -->
        <menuitem id="asset_move_id"
                  name="MOUVEMENT"
                  parent="configuration_menu_id"
                  sequence="2"/>

        <!-- Asset Location Menu Item -->
        <menuitem id="menu_asset_move"
                  parent="asset_move_id"
                  action="action_asset_move"
                  sequence="1"/>
    </data>
</odoo>